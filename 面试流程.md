1.先自我介绍，包含日常工作

2.父子线程怎么共享数据
interitableThreadLocals
当Thread创建时，将parent的map赋值copy给了当前线程中的inheritableThreadLocals。而copy过程都是浅copy，key,value都是引用地址的赋值。

3.lock和sync区别
3.1synchronized是Java中的一个关键字；
Lock是Java中的一个接口；
3.2synchronized可对实例方法、静态方法和代码块加锁；
Lock加锁针对当前线程；
3.3synchronized中叫做偏向锁；
Lock中叫做重入锁；
3.4synchronized：不能指定解锁操作，执行完代码块的对象会自动释放锁；
Lock：可调用ulock方法去释放锁比synchronized更灵活；

4.HashMap1.7、1.8区别
1.8主要优化减少了Hash冲突 ，提高哈希表的存、取效率。

底层数据结构不一样，1.7是数组+链表，1.8则是数组+链表+红黑树结构（当链表长度大于8，转为红黑树）。
JDK1.8中resize()方法在表为空时，创建表；在表不为空时，扩容；而JDK1.7中resize()方法负责扩容，inflateTable()负责创建表。
 1.8中没有区分键为null的情况，而1.7版本中对于键为null的情况调用putForNullKey()方法。但是两个版本中如果键为null，那么调用hash()方法得到的都将是0，所以键为null的元素都始终位于哈希表table【0】中。
当1.8中的桶中元素处于链表的情况，遍历的同时最后如果没有匹配的，直接将节点添加到链表尾部；而1.7在遍历的同时没有添加数据，而是另外调用了addEntry()方法，将节点添加到链表头部。
1.7中新增节点采用头插法，1.8中新增节点采用尾插法。这也是为什么1.8不容易出现环型链表的原因。
1.7中是通过更改hashSeed值修改节点的hash值从而达到rehash时的链表分散，而1.8中键的hash值不会改变，rehash时根据（hash&oldCap）==0将链表分散。
 1.8rehash时保证原链表的顺序，而1.7中rehash时有可能改变链表的顺序（头插法导致）。
在扩容的时候：1.7在插入数据之前扩容，而1.8插入数据成功之后扩容。

5.AQS原理(执行过程源码，入队出队的细节，源码细节)

6.CountDownLatch和CyclicBarrier的区别是什么
源码级别

7.volatile从指令重排序，内存屏障，聊到总线风暴

8.mysql索引：聚集索引、非聚集索引、索引结构，顺带问各种树的特性

9.举例优化sql

10.MVCC和事务隔离级别的关系

11.间隙锁、行锁、乐观锁悲观锁等

12.唯一索引和普通索引的区别

14.Mysql的log有哪些，分别用来解决什么问题

15.怎么看mysql有没有执行索引

16.explain的时候最关心哪些字段，分别是什么含义

17.讲下hashMap的底层结构，put操作怎么找到位置的,&运算等价于什么运算？为什么不是线程安全的，1.8是头插还是尾插？怎么保证线程安全

18.concurrentHashMap底层,1.7怎么扩容的，1.8怎么保证线程安全

19.Sychronized怎么实现的

20.作用于方法时锁的是什么，静态方法锁的是什么，怎么实现可重入的

21.CAS是什么，有什么缺点

22.ABA是怎么发生的，怎么解决ABA问题

23ReetrantLock有用过吗，怎么实现重入的

24.Volatile解决了什么问题，一般用在哪里

25.Jdk1.6对锁做了哪些优化

26.Spring的AOP的实现方式

27.什么是动态代理

28.Spring怎么解决循环依赖的

29.类加载机制是什么，讲下双亲委派

30讲下redis穿透

31。讲下布隆过滤器的实现机制

32.Redis为什么这么快

33.讲下redis击穿

34.垃圾回收器讲下

35.CMS怎么进行垃圾回收的

36.讲下垃圾回收算法

37.讲下对分布式的理解

38.有一个转盘，分三块，每块的中奖概率一样，怎么实现

39.做个朋友圈，需要注意哪些点


第五轮

1.项目介绍

2.听到说做了限流，限流标准(并发数？qps？并发数和qps关系？说出5种限流方案和对应的算法原理)

3.dubbo调用端怎么在jvm种生成对应服务？
dubbo服务端和调用端超时时间设置和区别、dubbo长连接。

4.mysql行锁最大并发数？(秒杀项目指出)

5.设计秒杀系统，我说的异步的方式，会问怎么优化？改为了同步的方式？异步和同步区别？


6.碰到哪些技术难点？怎么解决？有没有参考其他大厂？其他大厂方案什么样的？有没有关注阿里这边最新的技术？

7.刚刚的秒杀系统，会涉及到多个库表的更新，分布式事务怎么解决，我说的消息最终一致性，异步？有没有更好的方案？同步TCC方式，TCC方式原理？(三个阶段的具体实现)


